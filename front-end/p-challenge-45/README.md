# 課題 45

## 課題 1

### 問題1

- [Performance API](https://developer.mozilla.org/en-US/docs/Web/API/Performance)を使って、特定の処理が完了するまでにかかる時間を測定する関数を作成してください

[【JavaScript】パフォーマンスAPIを使ってJavaScriptの特定処理の速度計測をやってみる](https://neightbor.jp/blog/performance-api)

### 問題2

- 競合ライブラリが存在する任意のライブラリを選択し、課題1で作成した関数を用いて、ライブラリのメソッドのパフォーマンスの違いを測定してみましょう
    - 例えばDay.jsとMoment.jsなど
    - （この関数自体はuseRefに関係ないのですが、refを使った課題を解く上でPerformance APIを使用する必要があるため先に触れておきました）

## 課題2

https://codesandbox.io/p/sandbox/p-challenge-45-2-ltt3n6

- あるコンポーネントが1000回レンダリングされるまでに要した時間を測定するアプリケーションを作ってみましょう
    - 以前「Effect hookを理解する」の課題で作成したコンポーネント（自身がレンダリングされた回数を記録する）と似ているかもしれませんが、あれより少しだけ難易度が上がります。復習も兼ねてこの課題でもう一度refに親しんでおきましょう！
- [こちらに雛形がある](https://codesandbox.io/s/frosty-tree-wz8wet?file=/src/index.js)ので、Profilerコンポーネントの実装を埋めてみましょう
    - ヒント：Performance APIを使う必要があります
    - ヒント：performance.now()を2回実施する必要があります。レンダリングが始まる前と、レンダリングが終了した後です。これにはuseEffectが役立ちそうですね...!
    - ヒント：1000回レンダリングするということは、経過時間をstateに保存しておくわけにはいきません（レンダリングのたびにリセットされてしまいますからね！）。となると、useRefの出番かも...?
    - ヒント：最後に、例えばボタンをクリックした瞬間に1000回のレンダリングを始めるとか、何かしらレンダリングを始めるトリガーを用意する必要がありそうです。これにはuseStateが役立ちそうですね

## 課題3

- 先ほどの課題では挙動を理解するためパフォーマンスの測定にrefを活用しましたが、本番サービスでこのような用途でrefを使うことはありません。どのような用途で使えそうでしょうか？
